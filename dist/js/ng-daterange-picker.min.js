!function(t){function e(t,e,a,d){var l,r=new Date(t,e,1),g=r.getDay(),o=new Date(t,e+1,0).getDate(),D=0,p=0,s=0,i=[],M=!1;if(a){var c=a.getFullYear(),u=a.getMonth();if(M=r-new Date(c,u,1),M<0)return[]}if(d){var h=d.getFullYear(),f=d.getMonth();if(endFlag=r-new Date(h,f,1),endFlag>0)return[]}for(;D<o;){for(i[p]=[],s=0;s<7;s++)i[p][s]=0===p&&s<g||D>=o?"":++D;p++}return 0===M&&(l=n(a),i=i.slice(l-1),i[0]=i[0].map(function(t){return t<a.getDate()?"":t})),0===endFlag&&(l=n(d),i=i.splice(0,l),i[i.length-1]=i[i.length-1].map(function(t){return t<=d.getDate()?t:""})),i}function n(t){var e=t.getDay(),n=t.getDate();return Math.ceil((n+6-e)/7)}function a(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate())}var d=angular.module("ngDaterangePicker",[]);d.version="1.0.0",d.directive("ngDaterangePicker",["$parse","$compile",function(t,n){return{restrict:"AE",replace:!0,scope:{ngDpModel:"="},template:'<div class="page-date">                            <div class="page-date-hd">                                <table class="table-week">                                  <thead>                                    <tr>                                      <td>日</td>                                      <td>一</td>                                      <td>二</td>                                      <td>三</td>                                      <td>四</td>                                      <td>五</td>                                      <td>六</td>                                    </tr>                                  </thead>                                </table>                              </div>                        <div class="page-date-bd">                            <table class="table-day" ng-repeat="(k, mon) in monthData">                                <thead>                                    <tr><td class="month" colspan="7">{{getMonth(day, k, $index)}}</td></tr>                                </thead>                                <tbody>                                    <tr ng-repeat="week in mon">                                        <td ng-repeat="day in week track by $index" ng-class="loadClassName(k, day)" ng-click="select(k, day, $event)">{{day}}</td>                                    </tr>                                </tbody>                            </table>                        </div>            ',link:function(t,n,d){function l(e){var n=t.$parent[d[e]];return"function"==typeof n?n.apply(t.$parent,Array.prototype.slice.call(arguments,1)):null}var r,g,o,D=new Date,p=D.getDate(),s=D.getFullYear(),i=D.getMonth(),M=[],c={},u=d.ngDpMonths,h=u,f=i,v=s,y=null,w=null,k=!!+d.ngDpDisableOld,m=!!+d.ngDpDisableOneday,b=d.ngDpDays;for(D=new Date(D.getFullYear(),D.getMonth(),D.getDate()),d.ngDpStartDate&&new Date(d.ngDpStartDate)&&("today"===d.ngDpStartDate?y=D:+new Date(d.ngDpStartDate)&&(y=new Date(d.ngDpStartDate))),isNaN(d.ngDpStartMonth)||(d.ngDpStartMonth.indexOf("-")!==-1||d.ngDpStartMonth.indexOf("+")!==-1?f+=parseInt(d.ngDpStartMonth):f=parseInt(d.ngDpStartMonth)-1),y=y||new Date(s,i,1),f=y.getMonth(),v=y.getFullYear(),isNaN(b)||(o=+y+24*(b-1)*3600*1e3,w=new Date(o),h=12*(w.getYear()-y.getYear())+w.getMonth()-y.getMonth()+1,u=h);u--;)r=f+h-u-1,g=e(v,f+h-u-1,y,w),o=new Date(v,r,1),c[o.getFullYear()+"-"+(o.getMonth()+1)]=g;t.monthData=c,t.months=M,t.today=p,t.ngDpModel=t.ngDpModel||{},(t.ngDpModel.start||t.ngDpModel.end)&&(t.ngDpModel.start=t.ngDpModel.start instanceof Date?a(t.ngDpModel.start):void 0,t.ngDpModel.end=t.ngDpModel.end instanceof Date?a(t.ngDpModel.end):void 0),t.ngDpModel.start&&t.ngDpModel.end?t.ngDpModel.end-t.ngDpModel.start<=0&&(t.ngDpModel.end=void 0):!t.ngDpModel.start&&t.ngDpModel.end&&(t.ngDpModel.start=t.ngDpModel.end,t.ngDpModel.end=void 0),t.select=function(e,n,a){var d=e.split("-"),r=t.ngDpModel.start,g=t.ngDpModel.end,o=new Date(d[0],d[1]-1,n);if(!(k&&o-D<0)&&l("ngDpEvtClick",o,a)!==!1)if(r&&g)t.ngDpModel.end=void 0,t.ngDpModel.start=o;else if(r)if(o-r<0||o-r===0&&m)t.ngDpModel.start=o;else{if(l("ngDpEvtSelect",t.ngDpModel.start,o,a)===!1)return;t.ngDpModel.end=o}else t.ngDpModel.start=o},t.loadClassName=function(e,n){var a,d,l=[],r=e.split("-"),g=new Date(r[0],r[1]-1,n);return n?(g-D<0&&k&&l.push("old"),g-D===0&&l.push("today"),a=t.ngDpModel.start,d=t.ngDpModel.end,(a||d)&&(a-g!==0&&d-g!==0||(l.push("active"),m||a-d!==0?l.push(a-g===0?"start":"end"):l.push("start-end")),a&&d&&a-g<0&&d-g>0&&l.push("active")),l):l},t.getMonth=function(t,e,n){var a=e.split("-");return a[0]+"年"+a[1]+"月"}}}}])}();