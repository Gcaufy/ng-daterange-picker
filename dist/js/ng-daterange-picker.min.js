!function(t){function e(t,e,a,d){var l=new Date(t,e,1),r=l.getDay(),o=new Date(t,e+1,0).getDate(),g=0,D=0,p=0,i=[],s=!1;if(a){var M=a.getFullYear(),c=a.getMonth();if(s=l-new Date(M,c,1),s<0)return[]}if(d){var u=d.getFullYear(),h=d.getMonth();if(endFlag=l-new Date(u,h,1),endFlag>0)return[]}for(;g<o;){for(i[D]=[],p=0;p<7;p++)i[D][p]=0===D&&p<r||g>=o?"":++g;D++}if(0===s){var f=n(a);i=i.slice(f-1),i[0]=i[0].map(function(t){return t<a.getDate()?"":t})}if(0===endFlag){var f=n(d);i=i.splice(0,f),i[i.length-1]=i[i.length-1].map(function(t){return t<=d.getDate()?t:""})}return i}function n(t){var e=t.getDay(),n=t.getDate();return Math.ceil((n+6-e)/7)}function a(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate())}var d=angular.module("ngDaterangePicker",[]);d.version="1.0.0",d.directive("ngDaterangePicker",["$parse","$compile",function(t,n){return{restrict:"AE",replace:!0,scope:{ngDpModel:"="},template:'<div class="page-date">                            <div class="page-date-hd">                                <table class="table-week">                                  <thead>                                    <tr>                                      <td>日</td>                                      <td>一</td>                                      <td>二</td>                                      <td>三</td>                                      <td>四</td>                                      <td>五</td>                                      <td>六</td>                                    </tr>                                  </thead>                                </table>                              </div>                        <div class="page-date-bd">                            <table class="table-day" ng-repeat="(k, mon) in monthData">                                <thead>                                    <tr><td class="month" colspan="7">{{getMonth(day, k, $index)}}</td></tr>                                </thead>                                <tbody>                                    <tr ng-repeat="week in mon">                                        <td ng-repeat="day in week track by $index" ng-class="loadClassName(k, day)" ng-click="select(k, day, $event)">{{day}}</td>                                    </tr>                                </tbody>                            </table>                        </div>            ',link:function(t,n,d){function l(e){var n=t.$parent[d[e]];return"function"==typeof n?n.apply(t.$parent,Array.prototype.slice.call(arguments,1)):null}var r,o,g,D=new Date,p=D.getDate(),i=D.getFullYear(),s=D.getMonth(),M=[],c={},u=d.ngDpMonths,h=u,f=s,v=i,y=null,w=null,k=!!+d.ngDpDisableOld,m=d.ngDpDays;for(D=new Date(D.getFullYear(),D.getMonth(),D.getDate()),d.ngDpStartDate&&new Date(d.ngDpStartDate)&&("today"===d.ngDpStartDate?y=D:+new Date(d.ngDpStartDate)&&(y=new Date(d.ngDpStartDate))),isNaN(d.ngDpStartMonth)||(d.ngDpStartMonth.indexOf("-")!==-1||d.ngDpStartMonth.indexOf("+")!==-1?f+=parseInt(d.ngDpStartMonth):f=parseInt(d.ngDpStartMonth)-1),y=y||new Date(i,s,1),f=y.getMonth(),v=y.getFullYear(),isNaN(m)||(g=+y+24*(m-1)*3600*1e3,w=new Date(g),h=w.getMonth()-y.getMonth()+1,u=h);u--;)r=f+h-u-1,o=e(v,f+h-u-1,y,w),g=new Date(v,r,1),c[g.getFullYear()+"-"+(g.getMonth()+1)]=o;t.monthData=c,t.months=M,t.today=p,t.ngDpModel=t.ngDpModel||{},(t.ngDpModel.start||t.ngDpModel.end)&&(t.ngDpModel.start=t.ngDpModel.start instanceof Date?a(t.ngDpModel.start):void 0,t.ngDpModel.end=t.ngDpModel.end instanceof Date?a(t.ngDpModel.end):void 0),t.ngDpModel.start&&t.ngDpModel.end?t.ngDpModel.end-t.ngDpModel.start<=0&&(t.ngDpModel.end=void 0):!t.ngDpModel.start&&t.ngDpModel.end&&(t.ngDpModel.start=t.ngDpModel.end,t.ngDpModel.end=void 0),t.select=function(e,n,a){var d=e.split("-"),r=t.ngDpModel.start,o=t.ngDpModel.end,g=new Date(d[0],d[1]-1,n);if(!(k&&g-D<0)&&l("ngDpEvtClick",g,a)!==!1)if(r&&o)t.ngDpModel.end=void 0,t.ngDpModel.start=g;else if(r)if(g-r<=0)t.ngDpModel.start=g;else{if(l("ngDpEvtSelect",t.ngDpModel.start,g,a)===!1)return;t.ngDpModel.end=g}else t.ngDpModel.start=g},t.loadClassName=function(e,n){var a,d,l=[],r=e.split("-"),o=new Date(r[0],r[1]-1,n);return n?(o-D<0&&k&&l.push("old"),o-D===0&&l.push("today"),a=t.ngDpModel.start,d=t.ngDpModel.end,(a||d)&&(a-o===0&&(l.push("active"),l.push("start")),d-o===0&&(l.push("active"),l.push("end")),a&&d&&a-o<0&&d-o>0&&l.push("active")),l):l},t.getMonth=function(t,e,n){var a=e.split("-");return a[0]+"年"+a[1]+"月"}}}}])}();